<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>CSS !important 範例</title>
        <style>
            /* 基本樣式重置 */
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: "Microsoft JhengHei", Arial, sans-serif;
                line-height: 1.6;
                color: #333;
                background-color: #f5f5f5;
                padding: 20px;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                background: white;
                border-radius: 10px;
                padding: 30px;
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            }

            h1 {
                text-align: center;
                color: #2c3e50;
                margin-bottom: 30px;
                border-bottom: 3px solid #3498db;
                padding-bottom: 10px;
            }

            h2 {
                color: #34495e;
                margin: 30px 0 15px 0;
                padding-left: 15px;
                border-left: 4px solid #3498db;
            }

            .example-section {
                margin-bottom: 40px;
                padding: 20px;
                border: 1px solid #ddd;
                border-radius: 8px;
                background-color: #fafafa;
            }

            /* 範例 1: 基本 !important 用法 */
            .text-blue {
                color: blue;
            }

            .text-red {
                color: red !important;
            }

            .demo-text {
                font-size: 18px;
                margin: 10px 0;
                padding: 10px;
                background-color: #ecf0f1;
                border-radius: 5px;
            }

            /* 範例 2: 樣式權重對比 */
            .weight-demo {
                color: green;
                font-weight: normal;
            }

            #specific-id {
                color: purple;
                font-weight: bold;
            }

            .important-override {
                color: orange !important;
                font-weight: bold !important;
            }

            /* 範例 3: 內聯樣式 vs !important */
            .inline-vs-important {
                background-color: lightblue !important;
                padding: 15px !important;
                border: 2px solid navy !important;
                border-radius: 5px;
            }

            /* 範例 4: 多個 !important 的競爭 */
            .first-important {
                color: red !important;
                font-size: 16px !important;
            }

            .second-important {
                color: blue !important;
                font-size: 20px !important;
            }

            /* 範例 5: !important 在響應式設計中的應用 */
            .responsive-text {
                font-size: 14px;
                color: #666;
            }

            @media (max-width: 768px) {
                .responsive-text {
                    font-size: 18px !important;
                    color: #e74c3c !important;
                }
            }

            /* 程式碼展示區塊 */
            .code-block {
                background-color: #2c3e50;
                color: #ecf0f1;
                padding: 15px;
                border-radius: 5px;
                font-family: "Courier New", monospace;
                margin: 15px 0;
                overflow-x: auto;
                border-left: 4px solid #3498db;
            }

            .highlight {
                background-color: #f39c12;
                color: white;
                padding: 2px 5px;
                border-radius: 3px;
            }

            .warning {
                background-color: #e74c3c;
                color: white;
                padding: 10px;
                border-radius: 5px;
                margin: 15px 0;
            }

            .note {
                background-color: #3498db;
                color: white;
                padding: 10px;
                border-radius: 5px;
                margin: 15px 0;
            }

            /* 按鈕樣式 */
            .btn {
                background-color: #3498db;
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                margin: 5px;
                font-size: 14px;
            }

            .btn-danger {
                background-color: #e74c3c !important;
            }

            .btn:hover {
                opacity: 0.8;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>CSS !important 完整範例</h1>

            <div class="example-section">
                <h2>1. 基本 !important 用法</h2>
                <p>
                    當多個 CSS 規則應用到同一個元素時，!important
                    可以強制使用特定樣式。
                </p>

                <div class="demo-text text-blue text-red">
                    這段文字同時有 blue 和 red 類別，但 red 使用了 !important
                </div>

                <div class="code-block">
                    .text-blue { color: blue; } .text-red { color: red
                    <span class="highlight">!important</span>; }
                </div>
            </div>

            <div class="example-section">
                <h2>2. 樣式權重對比</h2>
                <p>展示 !important 如何覆蓋 ID 選擇器的高優先權。</p>

                <div class="weight-demo important-override" id="specific-id">
                    ID 選擇器通常有最高優先權，但 !important 可以覆蓋它
                </div>

                <div class="code-block">
                    .weight-demo { color: green; } #specific-id { color: purple;
                    } .important-override { color: orange
                    <span class="highlight">!important</span>; }
                </div>
            </div>

            <div class="example-section">
                <h2>3. 內聯樣式 vs !important</h2>
                <p>即使元素有內聯樣式，!important 仍然可以覆蓋。</p>

                <div
                    class="inline-vs-important"
                    style="
                        background-color: red;
                        padding: 5px;
                        border: 1px solid black;
                    "
                >
                    這個元素有內聯樣式，但被 !important 覆蓋了
                </div>

                <div class="code-block">
                    /* CSS */ .inline-vs-important { background-color: lightblue
                    <span class="highlight">!important</span>; padding: 15px
                    <span class="highlight">!important</span>; } /* HTML
                    內聯樣式被覆蓋 */ &lt;div style="background-color: red;
                    padding: 5px;"&gt;
                </div>
            </div>

            <div class="example-section">
                <h2>4. 多個 !important 的競爭</h2>
                <p>當多個規則都使用 !important 時，依然遵循 CSS 的層疊順序。</p>

                <div class="first-important second-important">
                    兩個類別都使用 !important，後定義的樣式獲勝
                </div>

                <div class="code-block">
                    .first-important { color: red
                    <span class="highlight">!important</span>; font-size: 16px
                    <span class="highlight">!important</span>; }
                    .second-important { color: blue
                    <span class="highlight">!important</span>; /* 獲勝 */
                    font-size: 20px <span class="highlight">!important</span>;
                    /* 獲勝 */ }
                </div>
            </div>

            <div class="example-section">
                <h2>5. 響應式設計中的 !important</h2>
                <p>
                    在行動裝置上，文字會變大變紅（請縮小瀏覽器窗口查看效果）。
                </p>

                <div class="responsive-text">這段文字在小螢幕上會改變樣式</div>

                <div class="code-block">
                    .responsive-text { font-size: 14px; color: #666; } @media
                    (max-width: 768px) { .responsive-text { font-size: 18px
                    <span class="highlight">!important</span>; color: #e74c3c
                    <span class="highlight">!important</span>; } }
                </div>
            </div>

            <div class="example-section">
                <h2>6. 按鈕樣式覆蓋範例</h2>
                <p>展示如何使用 !important 強制應用特定的按鈕樣式。</p>

                <button class="btn">普通按鈕</button>
                <button class="btn btn-danger">
                    危險按鈕 (使用 !important)
                </button>

                <div class="code-block">
                    .btn { background-color: #3498db; color: white; /*
                    其他樣式... */ } .btn-danger { background-color: #e74c3c
                    <span class="highlight">!important</span>; }
                </div>
            </div>

            <div class="warning">
                <strong>⚠️ 注意事項：</strong><br />
                • !important 應該謹慎使用，因為它會破壞 CSS 的自然層疊<br />
                • 過度使用 !important 會讓樣式難以維護<br />
                • 只在必要時使用，例如覆蓋第三方樣式庫
            </div>

            <div class="note">
                <strong>💡 最佳實踐：</strong><br />
                • 優先使用更具體的選擇器而不是 !important<br />
                • 在組件化開發中，使用 CSS 模塊或 CSS-in-JS 來避免樣式衝突<br />
                • 文檔化所有使用 !important 的原因
            </div>

            <div class="example-section">
                <h2>7. JavaScript 動態修改 !important 樣式</h2>
                <p>點擊按鈕查看如何用 JavaScript 操作 !important 樣式。</p>

                <div
                    id="js-demo"
                    style="
                        padding: 15px;
                        background-color: lightgray;
                        border-radius: 5px;
                        margin: 10px 0;
                    "
                >
                    這個區塊的樣式可以用 JavaScript 修改
                </div>

                <button onclick="changeStyle()">改變樣式</button>
                <button onclick="resetStyle()">重置樣式</button>

                <div class="code-block">
                    function changeStyle() { const element =
                    document.getElementById('js-demo');
                    element.style.setProperty('background-color', 'red',
                    'important'); element.style.setProperty('color', 'white',
                    'important'); } function resetStyle() { const element =
                    document.getElementById('js-demo');
                    element.style.removeProperty('background-color');
                    element.style.removeProperty('color'); }
                </div>
            </div>
        </div>

        <script>
            function changeStyle() {
                const element = document.getElementById("js-demo");
                element.style.setProperty(
                    "background-color",
                    "red",
                    "important"
                );
                element.style.setProperty("color", "white", "important");
                element.textContent = "樣式已被 JavaScript 用 !important 修改";
            }

            function resetStyle() {
                const element = document.getElementById("js-demo");
                element.style.removeProperty("background-color");
                element.style.removeProperty("color");
                element.textContent = "這個區塊的樣式可以用 JavaScript 修改";
            }

            // 頁面載入完成後的提示
            window.addEventListener("load", function () {
                console.log("CSS !important 範例頁面載入完成");
                console.log(
                    "請嘗試調整瀏覽器窗口大小以查看響應式 !important 效果"
                );
            });
        </script>
    </body>
</html>
